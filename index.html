<!doctype html>
<html lang="en" class="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The 01</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Poppins:wght@600;700&display=swap"
    rel="stylesheet">

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#0ea5e9',   // cyan
            accent: '#a21caf',    // purple
            bgA: '#0a0a0f',       // deep black
            card: '#18181b',      // card surface
            borderFade: '#0ea5e980', // faded cyan
            footer: '#0b1220'
          },
          borderRadius: {
            'xl': '1rem',
            '2xl': '1.5rem'
          }
        }
      }
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      color-scheme: dark;
    }
    html, body { height: 100%; }
    body {
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #0a0a0f;
    }
    .card-shadow {
      box-shadow: 0 6px 24px rgba(2, 6, 23, 0.55);
    }
    .header-gradient {
      background: linear-gradient(90deg, #0ea5e9 0%, #a21caf 100%);
      opacity: 0.12;
      filter: blur(12px);
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }
    .post-card {
      border: 1.5px solid rgba(255,255,255,0.03);
      transition: border-color 0.2s;
    }
    .post-card:hover {
      border-color: #0ea5e980;
    }
  </style>
</head>

<body class="dark bg-bgA text-slate-300 min-h-screen flex flex-col">

  <!-- Header (minimal, no SVG) -->
  <header class="relative py-12 px-6 text-center overflow-visible">
    <div class="header-gradient"></div>
    <h1 class="relative text-5xl md:text-6xl font-poppins font-extrabold text-white select-none z-10"
      style="font-family: Poppins, Inter, sans-serif;">The 01</h1>
    <p class="relative mt-2 text-primary/80 select-none z-10">Thoughts, notes, and research</p>
  </header>

  <!-- Main content -->
  <main class="flex-grow max-w-3xl w-full mx-auto px-6 pb-10">
    <div id="posts" class="space-y-6 mt-6">
      <!-- fallback while JS loads -->
      <div class="mx-auto max-w-md p-6 bg-card rounded-2xl post-card card-shadow text-center">
        <div class="animate-pulse h-4 bg-white/6 rounded w-2/3 mx-auto mb-4"></div>
        <div class="animate-pulse h-3 bg-white/6 rounded w-1/3 mx-auto"></div>
      </div>
    </div>
  </main>

  <!-- Footer (unchanged) -->
  <footer class="mt-8 px-6">
    <div class="max-w-3xl mx-auto bg-footer/30 backdrop-blur-sm rounded-t-2xl py-5 text-center border border-white/4">
      <a href="https://github.com/ikenith" target="_blank" rel="noopener noreferrer"
        class="text-indigo-300 hover:text-primary transition">@ikenith</a>
    </div>
  </footer>

  <script>
    // repo settings — update if needed
    const repo = "ikenith/ikenith.github.io";
    const branch = "main";

    // helper to create post card
    function makeCard(name, path) {
      const a = document.createElement("a");
      a.href = `post.html?file=${encodeURIComponent(path)}`;
      a.className = "block max-w-md mx-auto p-5 rounded-2xl bg-[rgba(255,255,255,0.02)] post-card card-shadow";
      a.setAttribute("aria-label", name.replace('.md', ''));
      // inner layout - title centered
      const t = document.createElement("div");
      t.className = "text-center font-semibold text-slate-100";
      t.textContent = name.replace(".md", "");
      a.appendChild(t);
      // small label area (optional)
      const sub = document.createElement("div");
      sub.className = "mt-2 text-sm text-primary/70 text-center";
      sub.textContent = "Read post →";
      a.appendChild(sub);
      return a;
    }

    async function loadPosts() {
      const postsContainer = document.getElementById("posts");
      try {
        const res = await fetch(`https://api.github.com/repos/${repo}/contents/posts?ref=${branch}`);
        if (!res.ok) throw new Error("GitHub API request failed: " + res.status);
        const files = await res.json();

        if (!Array.isArray(files) || files.length === 0) {
          postsContainer.innerHTML = `<p class="text-center text-sm text-primary/60">No posts yet — create a <code>posts/</code> folder and add .md files.</p>`;
          return;
        }

        postsContainer.innerHTML = "";
        files
          .filter(f => f.name.endsWith(".md"))
          .sort((a, b) => a.name.localeCompare(b.name))
          .forEach(file => postsContainer.appendChild(makeCard(file.name, file.path)));
      } catch (err) {
        console.error(err);
        postsContainer.innerHTML = `<p class="text-center text-sm text-rose-400">Failed to load posts. Check repo name/branch or GitHub API rate limits.</p>`;
      }
    }

    loadPosts();
  </script>
</body>

</html>